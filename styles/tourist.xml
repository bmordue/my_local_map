<?xml version="1.0" encoding="utf-8"?>
<Map srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over" 
     background-color="#f8f8f8">

  <!-- FONT DEFINITIONS for text labels -->
  <FontSet name="regular">
    <Font face-name="DejaVu Sans Book"/>
    <Font face-name="Liberation Sans Regular"/>
    <Font face-name="Bitstream Vera Sans"/>
  </FontSet>
  
  <FontSet name="bold">
    <Font face-name="DejaVu Sans Bold"/>
    <Font face-name="Liberation Sans Bold"/>
    <Font face-name="Bitstream Vera Sans Bold"/>
  </FontSet>
  
  <FontSet name="italic">
    <Font face-name="DejaVu Sans Oblique"/>
    <Font face-name="Liberation Sans Italic"/>
    <Font face-name="Bitstream Vera Sans Oblique"/>
  </FontSet>

  <!-- LAND USE / BACKGROUND -->
  <Style name="landuse">
    <Rule>
      <Filter>[landuse] = 'forest' or [natural] = 'wood'</Filter>
      <PolygonSymbolizer fill="#d4e6b7" fill-opacity="0.8"/>
    </Rule>
    <Rule>
      <Filter>[landuse] = 'farmland' or [landuse] = 'grass'</Filter>
      <PolygonSymbolizer fill="#e8f5d4" fill-opacity="0.6"/>
    </Rule>
    <Rule>
      <Filter>[leisure] = 'park' or [leisure] = 'garden'</Filter>
      <PolygonSymbolizer fill="#c8facc" fill-opacity="0.8"/>
    </Rule>
  </Style>

  <!-- WATER -->
  <Style name="water">
    <Rule>
      <Filter>[natural] = 'water'</Filter>
      <PolygonSymbolizer fill="#7dd3c0" fill-opacity="0.8"/>
    </Rule>
  </Style>

  <!-- WATERWAYS (rivers, streams, etc.) -->
  <Style name="waterways">
    <Rule>
      <Filter>[waterway] = 'river'</Filter>
      <LineSymbolizer stroke="#7dd3c0" stroke-width="3" stroke-opacity="0.9"/>
      <TextSymbolizer size="12" fill="#2c3e50" fontset-name="regular" placement="line" 
                      dy="-8" halo-fill="#ffffff" halo-radius="1.5" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[waterway] = 'stream'</Filter>
      <LineSymbolizer stroke="#7dd3c0" stroke-width="1.5" stroke-opacity="0.8"/>
      <TextSymbolizer size="10" fill="#2c3e50" fontset-name="regular" placement="line" 
                      dy="-6" halo-fill="#ffffff" halo-radius="1" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[waterway] = 'canal' or [waterway] = 'drain'</Filter>
      <LineSymbolizer stroke="#5dade2" stroke-width="2" stroke-opacity="0.8"/>
      <TextSymbolizer size="10" fill="#2c3e50" fontset-name="regular" placement="line" 
                      dy="-6" halo-fill="#ffffff" halo-radius="1" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
  </Style>
  
  <!-- ROADS - Tourist-friendly styling -->
  <Style name="roads_major">
    <Rule>
      <Filter>[highway] = 'motorway'</Filter>
      <LineSymbolizer stroke="#e74c3c" stroke-width="4" stroke-opacity="0.9"/>
      <TextSymbolizer size="11" fill="#ffffff" fontset-name="bold" placement="line" 
                      dy="0" halo-fill="#e74c3c" halo-radius="2" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[highway] = 'trunk' or [highway] = 'primary'</Filter>
      <LineSymbolizer stroke="#f39c12" stroke-width="3" stroke-opacity="0.9"/>
      <TextSymbolizer size="10" fill="#2c3e50" fontset-name="bold" placement="line" 
                      dy="0" halo-fill="#ffffff" halo-radius="1.5" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[highway] = 'secondary'</Filter>
      <LineSymbolizer stroke="#f1c40f" stroke-width="2.5" stroke-opacity="0.8"/>
      <TextSymbolizer size="9" fill="#2c3e50" fontset-name="regular" placement="line" 
                      dy="0" halo-fill="#ffffff" halo-radius="1" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
  </Style>
  
  <Style name="roads_minor">
    <Rule>
      <Filter>[highway] = 'tertiary' or [highway] = 'unclassified'</Filter>
      <LineSymbolizer stroke="#ffffff" stroke-width="2" stroke-opacity="0.9"/>
      <LineSymbolizer stroke="#34495e" stroke-width="1.5" stroke-opacity="0.7"/>
      <TextSymbolizer size="8" fill="#2c3e50" fontset-name="regular" placement="line" 
                      dy="0" halo-fill="#ffffff" halo-radius="1" allow-overlap="false">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[highway] = 'residential'</Filter>
      <LineSymbolizer stroke="#ecf0f1" stroke-width="1.5" stroke-opacity="0.8"/>
    </Rule>
  </Style>
  
  <!-- PATHS & TOURIST ROUTES - Emphasized for planning -->
  <Style name="paths">
    <Rule>
      <Filter>[highway] = 'footway' or [highway] = 'path'</Filter>
      <LineSymbolizer stroke="#8e44ad" stroke-width="1.5" stroke-dasharray="3,2" stroke-opacity="0.8"/>
    </Rule>
    <Rule>
      <Filter>[highway] = 'cycleway'</Filter>
      <LineSymbolizer stroke="#27ae60" stroke-width="2" stroke-dasharray="4,2" stroke-opacity="0.9"/>
    </Rule>
    <!-- Commented out route filter as it's not available in OSM shapefiles
    <Rule>
      <Filter>[route] = 'hiking'</Filter>
      <LineSymbolizer stroke="#d35400" stroke-width="2.5" stroke-dasharray="5,3" stroke-opacity="0.9"/>
    </Rule>
    -->
  </Style>
  
  <!-- BUILDINGS -->
  <Style name="buildings">
    <Rule>
      <PolygonSymbolizer fill="#bdc3c7" fill-opacity="0.6"/>
      <LineSymbolizer stroke="#7f8c8d" stroke-width="0.5" stroke-opacity="0.8"/>
    </Rule>
  </Style>
  
  <!-- POINTS OF INTEREST - Tourist focused -->
  <Style name="poi">
    <!-- Food & Drink -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*restaurant.*') or [other_tags].match('.*amenity.*cafe.*') or [other_tags].match('.*amenity.*pub.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/restaurant-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Accommodation -->
    <Rule>
      <Filter>[other_tags].match('.*tourism.*hotel.*') or [other_tags].match('.*tourism.*guest_house.*') or [other_tags].match('.*tourism.*hostel.*') or [other_tags].match('.*tourism.*chalet.*') or [other_tags].match('.*tourism.*camp_site.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/lodging-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Attractions -->
    <Rule>
      <Filter>[other_tags].match('.*tourism.*museum.*') or [other_tags].match('.*tourism.*attraction.*') or [other_tags].match('.*tourism.*viewpoint.*') or [other_tags].match('.*historic.*castle.*') or [other_tags].match('.*historic.*ruins.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/attraction-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Services -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*bank.*') or [other_tags].match('.*amenity.*post_office.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/bank-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Shopping -->
    <Rule>
      <Filter>[other_tags].match('.*shop.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/shop-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Transportation -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*parking.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/car-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <Rule>
      <Filter>[highway] = 'bus_stop'</Filter>
      <PointSymbolizer file="$ICONS_DIR/bus-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Public Services -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*toilets.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/toilet-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <Rule>
      <Filter>[other_tags].match('.*amenity.*police.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/police-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Healthcare -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*hospital.*') or [other_tags].match('.*amenity.*pharmacy.*') or [other_tags].match('.*amenity.*clinic.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/hospital-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
    <!-- Religious Sites -->
    <Rule>
      <Filter>[other_tags].match('.*amenity.*place_of_worship.*')</Filter>
      <PointSymbolizer file="$ICONS_DIR/religious-christian-15.svg" allow-overlap="true" ignore-placement="true"/>
    </Rule>
  </Style>
  
  <!-- PLACE NAMES - Hierarchical text labels -->
  <Style name="place_labels">
    <!-- Cities and towns - largest text -->
    <Rule>
      <Filter>[place] = 'city' or [place] = 'town'</Filter>
      <TextSymbolizer size="16" fill="#2c3e50" fontset-name="bold" 
                      dx="0" dy="-10" halo-fill="#ffffff" halo-radius="2" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Villages - medium text -->
    <Rule>
      <Filter>[place] = 'village'</Filter>
      <TextSymbolizer size="14" fill="#2c3e50" fontset-name="bold" 
                      dx="0" dy="-8" halo-fill="#ffffff" halo-radius="1.5" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Hamlets and smaller places - smaller text -->
    <Rule>
      <Filter>[place] = 'hamlet' or [place] = 'locality' or [place] = 'suburb'</Filter>
      <TextSymbolizer size="11" fill="#34495e" fontset-name="regular" 
                      dx="0" dy="-6" halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
  </Style>
  
  <!-- POI LABELS - for named amenities and features -->
  <Style name="poi_labels">
    <!-- Schools and hospitals -->
    <Rule>
      <Filter>[other_tags].match('.*school.*') or [other_tags].match('.*hospital.*')</Filter>
      <TextSymbolizer size="10" fill="#e74c3c" fontset-name="bold" 
                      dx="8" dy="0" halo-fill="#ffffff" halo-radius="1.5" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Pubs and restaurants -->
    <Rule>
      <Filter>[other_tags].match('.*pub.*') or [other_tags].match('.*restaurant.*')</Filter>
      <TextSymbolizer size="9" fill="#8e44ad" fontset-name="regular" 
                      dx="8" dy="0" halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Religious buildings -->
    <Rule>
      <Filter>[other_tags].match('.*place_of_worship.*') or [other_tags].match('.*church.*')</Filter>
      <TextSymbolizer size="9" fill="#7f8c8d" fontset-name="italic" 
                      dx="8" dy="0" halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Natural features -->
    <Rule>
      <Filter>[other_tags].match('.*peak.*') or [other_tags].match('.*hill.*')</Filter>
      <TextSymbolizer size="9" fill="#27ae60" fontset-name="italic" 
                      dx="0" dy="-8" halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
    <!-- Fallback for all other named points -->
    <Rule>
      <Filter>[name] != '' and [place] = ''</Filter>
      <TextSymbolizer size="8" fill="#34495e" fontset-name="regular" 
                      dx="8" dy="0" halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="point">[name]</TextSymbolizer>
    </Rule>
  </Style>
  
  <!-- AREA LABELS - for named land use areas -->
  <Style name="area_labels">
    <Rule>
      <Filter>[landuse] = 'forest' or [natural] = 'wood'</Filter>
      <TextSymbolizer size="10" fill="#27ae60" fontset-name="italic" 
                      halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="interior">[name]</TextSymbolizer>
    </Rule>
    <Rule>
      <Filter>[natural] = 'water'</Filter>
      <TextSymbolizer size="10" fill="#2980b9" fontset-name="italic" 
                      halo-fill="#ffffff" halo-radius="1" 
                      allow-overlap="false" placement="interior">[name]</TextSymbolizer>
    </Rule>
  </Style>

  <!-- LAYER DEFINITIONS -->
  <Layer name="landuse" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>landuse</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/multipolygons.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="water" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>water</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/multipolygons.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="waterways" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>waterways</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/lines.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="buildings" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>buildings</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/multipolygons.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="roads_major" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>roads_major</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/lines.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="roads_minor" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>roads_minor</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/lines.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="paths" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>paths</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/lines.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="poi" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>poi</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/points.shp</Parameter>
    </Datasource>
  </Layer>
  
  <!-- LABEL LAYERS - rendered on top for visibility -->
  <Layer name="place_labels" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>place_labels</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/points.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="poi_labels" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>poi_labels</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/points.shp</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="area_labels" srs="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs">
    <StyleName>area_labels</StyleName>
    <Datasource>
      <Parameter name="type">shape</Parameter>
      <Parameter name="file">$DATA_DIR/multipolygons.shp</Parameter>
    </Datasource>
  </Layer>

</Map>